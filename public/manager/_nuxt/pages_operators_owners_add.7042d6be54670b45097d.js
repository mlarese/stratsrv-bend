webpackJsonp([9],{"+woC":function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"owners-form title",attrs:{"grid-list-md":""}},[s("v-toolbar",{staticClass:"elevation-0",attrs:{dense:""}},[s("v-toolbar-title",[t._v(t._s(t.$t("Owner Data")))]),s("v-spacer"),s("v-btn",{staticClass:"elevation-1",on:{click:t.openLayout}},[t._v("\n            "+t._s(t.$t("Email layouts"))+"\n        ")])],1),s("v-form",{ref:"form",model:{value:t.form.valid,callback:function(e){t.$set(t.form,"valid",e)},expression:"form.valid"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{required:"",rules:t.rules.company,label:t.$t("Company"),box:""},model:{value:t.$record.company,callback:function(e){t.$set(t.$record,"company",e)},expression:"$record.company"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{required:"",rules:t.rules.email,label:t.$t("Email"),box:""},model:{value:t.$record.email,callback:function(e){t.$set(t.$record,"email",e)},expression:"$record.email"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("Name"),rules:t.rules.name,required:"",box:""},model:{value:t.$record.name,callback:function(e){t.$set(t.$record,"name",e)},expression:"$record.name"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("Surname"),rules:t.rules.surname,required:"",box:""},model:{value:t.$record.surname,callback:function(e){t.$set(t.$record,"surname",e)},expression:"$record.surname"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("City"),box:""},model:{value:t.$record.city,callback:function(e){t.$set(t.$record,"city",e)},expression:"$record.city"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("Address"),box:""},model:{value:t.$record.address,callback:function(e){t.$set(t.$record,"address",e)},expression:"$record.address"}})],1)],1),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("Zip"),box:""},model:{value:t.$record.zip,callback:function(e){t.$set(t.$record,"zip",e)},expression:"$record.zip"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{label:t.$t("County"),box:""},model:{value:t.$record.county,callback:function(e){t.$set(t.$record,"county",e)},expression:"$record.county"}})],1)],1),s("v-card",[t.isAddMode?s("v-layout",{staticClass:"pa-3",attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{required:"",rules:t.rules.user,label:t.$t("User"),box:""},model:{value:t.$record.user,callback:function(e){t.$set(t.$record,"user",e)},expression:"$record.user"}})],1),s("v-spacer"),s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-text-field",{attrs:{box:"",required:"",rules:t.rules.password,name:"input-10-2",label:t.$t("Enter your password"),hint:t.$t("At least 8 characters"),min:"8","append-icon":t.pwdVisibilityToggler?"visibility":"visibility_off","append-icon-cb":function(){return t.pwdVisibilityToggler=!t.pwdVisibilityToggler},value:"",type:t.pwdVisibilityToggler?"password":"text"},model:{value:t.$record.password,callback:function(e){t.$set(t.$record,"password",e)},expression:"$record.password"}})],1)],1):t._e()],1),s("v-layout",{staticClass:"align-baseline",attrs:{row:"","mt-2":""}},[s("v-flex",{attrs:{xs12:"",sm6:""}},[s("v-select",{attrs:{items:t.languages,required:"",rules:t.rules.language,"item-value":"text",label:t.$t("Language")},model:{value:t.$record.language,callback:function(e){t.$set(t.$record,"language",e)},expression:"$record.language"}})],1),s("v-flex",{attrs:{xs12:"",sm6:""}},[t.isAddMode?t._e():s("div",[s("v-btn",{staticClass:"elevation-0",attrs:{color:"info"},on:{click:t.openLayouts}},[t._v("\n                        "+t._s(t.$t("Change password"))+"\n                    ")])],1)])],1)],1),s("ChangePasswordDialog",{attrs:{"user-id":t.$record.id,show:t.showChangePwdDialog},on:{cancel:function(e){t.showChangePwdDialog=!1}}})],1)},staticRenderFns:[]};e.a=a},"/sS8":function(t,e,s){"use strict";var a=s("jyKH"),r=s("o9j9");var n=function(t){s("PAkf")},o=s("VU/8")(a.a,r.a,!1,n,null,null);e.a=o.exports},"0WQk":function(t,e,s){var a=s("85LH");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("352f128d",a,!0,{sourceMap:!1})},"1FsI":function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("v-btn",{style:{backgroundColor:this.backgroundColor,color:this.color}},[this._v(this._s(this.btnName))])},staticRenderFns:[]};e.a=a},"2q6L":function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-btn",this._b({attrs:{flat:"",icon:"",color:this.color},on:{click:this.$listeners.click}},"v-btn",this.$attrs,!1),[e("v-icon",[this._v("delete")])],1)},staticRenderFns:[]};e.a=a},"4BbW":function(t,e,s){"use strict";var a=s("TL0H"),r=s("rVcQ"),n=s("VU/8")(a.a,r.a,!1,null,null,null);e.a=n.exports},"85LH":function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},"89ev":function(t,e,s){"use strict";var a=s("sSre"),r=s("ASIy");var n=function(t){s("hkQA")},o=s("VU/8")(a.a,r.a,!1,n,null,null);e.a=o.exports},"9ZGW":function(t,e,s){"use strict";var a=s("/sS8"),r={root:!0};e.a={components:{OwnersManagements:a.a},fetch:function(t){var e=t.store,s={domains:[],created:new Date,language:"it",active:"true",name:"",surname:"",user:"",password:""};e.commit("owners/setAddMode",null,r),e.commit("owners/setRecord",s,r)}}},"9q+M":function(t,e,s){"use strict";var a=s("YxPU"),r=s("TbhU");var n=function(t){s("gV5T")},o=s("VU/8")(a.a,r.a,!1,n,null,null);e.a=o.exports},ASIy:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"owners-acl"},[s("v-layout",{staticClass:"bold my-3",attrs:{row:""}},[s("span",{staticClass:"title"},[t._v(t._s(t.$t("Domain Owner")))])]),s("v-form",{ref:"form",model:{value:t.form.valid,callback:function(e){t.$set(t.form,"valid",e)},expression:"form.valid"}},[t._l(t.$record.domains,function(e,a){return[e.deleted?t._e():s("v-layout",{key:a,attrs:{row:""}},[s("v-flex",{attrs:{xs8:""}},[s("v-text-field",{attrs:{box:"",label:t.$t("Domain"),disabled:!e.phantom,required:"",rules:t.rules.domain},model:{value:e.name,callback:function(s){t.$set(e,"name",s)},expression:"item.name"}})],1),s("v-flex",{attrs:{xs4:""}},[s("cancel-btn",{on:{click:function(e){t.onRemoveDomain(a)}}})],1)],1)]})],2),s("add-btn",{staticClass:"elevation-0",attrs:{add:"Aggiungi dominio",disabled:!t.canAddDomain},on:{click:t.addDomain}})],1)},staticRenderFns:[]};e.a=a},BaHX:function(t,e,s){"use strict";var a=s("RfLG"),r=s("1FsI");var n=function(t){s("0WQk")},o=s("VU/8")(a.a,r.a,!1,n,null,null);e.a=o.exports},Dxhv:function(t,e,s){"use strict";s.d(e,"a",function(){return o});var a=s("Dd8w"),r=s.n(a),n=s("NYxO"),o=function(t){return{created:function(){this.setFormSaving(!1)},methods:r()({},Object(n.mapActions)(t,["save"]),Object(n.mapMutations)(t,["setFormSaving"])),computed:r()({},Object(n.mapState)(t,["$record","record","form"]),Object(n.mapGetters)(t,["isAddMode","isEditMode"]),{isDisabled:function(){return!!this.form.saving||!this.form.valid}})}}},FF1P:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("9ZGW"),r=s("pr8t");var n=function(t){s("hhaF")},o=s("VU/8")(a.a,r.a,!1,n,null,null);e.default=o.exports},"I6+4":function(t,e,s){"use strict";var a=s("K5/h"),r=s("+woC"),n=s("VU/8")(a.a,r.a,!1,null,null,null);e.a=n.exports},"K5/h":function(t,e,s){"use strict";var a=s("Dd8w"),r=s.n(a),n=s("NYxO"),o=s("4BbW");e.a={data:function(){var t=this;return{showChangePwdDialog:!1,pwdVisibilityToggler:!0,rules:{domain:[function(e){return!!e||t.$t("required")}],language:[function(e){return!!e||t.$t("required")}],company:[function(e){return!!e||t.$t("required")}],email:[function(e){return!!e||t.$t("required")},function(e){return/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,6})+$/.test(e)||t.$t("E-mail not valid")}],name:[function(e){return!!e||t.$t("required")}],surname:[function(e){return!!e||t.$t("required")}]}}},components:{ChangePasswordDialog:o.a},methods:{openLayouts:function(){alert(this.$record.id)}},created:function(){var t=this;this.isAddMode&&(this.rules.password=[function(e){return!!e||t.$t("required")},function(e){return e.length>=8||t.$t("At least 8 characters")}],this.rules.user=[function(e){return!!e||t.$t("required")}])},computed:r()({},Object(n.mapState)("owners",["$record","record","form","languages"]),Object(n.mapGetters)("owners",["isAddMode","isEditMode","isView"]))}},KHKM:function(t,e,s){"use strict";var a=s("Dd8w"),r=s.n(a),n=s("NYxO");e.a={name:"FormBar",props:["to","color","disabled","caption"],computed:r()({},Object(n.mapState)("api",["isAjax"]),Object(n.mapGetters)("auth",["canSave"]),{isDisabled:function(){return!this.canSave||!(!this.disabled&&!this.isAjax)}}),methods:{onSave:function(){this.$emit("on-save")}}}},PAkf:function(t,e,s){var a=s("Y3wP");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("1a6b1402",a,!0,{sourceMap:!1})},RfLG:function(t,e,s){"use strict";e.a={props:{backgroundColor:{default:"#AEEA00"},color:{default:"white"},btnName:{default:"Programma Publicazione"}}}},TL0H:function(t,e,s){"use strict";var a=s("Dd8w"),r=s.n(a),n=s("NYxO");e.a={name:"ChangePasswordDialog",methods:r()({},Object(n.mapActions)("users",["changePassword"]),{onChangePassword:function(){var t=this;this.changePassword({userId:this.userId,password:this.password,repeatPassword:this.repeatPassword,oldPassword:this.oldPassword}).then(function(){alert(t.$t("Password Changed")),t.onCancel()})},onCancel:function(){this.$emit("cancel")}}),watch:{show:function(){this.repeatPassword="",this.password="",this.oldPassword=""}},computed:{canChange:function(){return this.formValid&&this.passwordMatch},passwordMatch:function(){return this.password===this.repeatPassword}},data:function(){var t=this;return{rules:{password:[function(e){return!!e||t.$t("required")},function(e){return e.length>=8||t.$t("At least 8 characters")}]},formValid:!0,password:"",oldPassword:"",repeatPassword:""}},props:{show:{default:!1},userId:{required:!0}}}},TbhU:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-btn"},[s("v-btn",t._b({attrs:{fab:"",small:"",dark:"",color:"teal lighten-1"},on:{click:t.$listeners.click}},"v-btn",t.$attrs,!1),[s("v-icon",{attrs:{small:""}},[t._v("add")])],1),s("span",{style:(t.color,t.backgroundColor)},[t._v(t._s(t.$t(t.add)))])],1)},staticRenderFns:[]};e.a=a},Y3wP:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},YxPU:function(t,e,s){"use strict";e.a={props:{backgroundColor:{default:"teal"},color:{default:"white"},add:{default:"Aggiungi"}}}},dOit:function(t,e,s){"use strict";var a=s("njOx"),r=s("2q6L"),n=s("VU/8")(a.a,r.a,!1,null,null,null);e.a=n.exports},eXdE:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},gV5T:function(t,e,s){var a=s("eXdE");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("480bac3a",a,!0,{sourceMap:!1})},hhaF:function(t,e,s){var a=s("lUsV");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("77461afd",a,!0,{sourceMap:!1})},hkQA:function(t,e,s){var a=s("zZ07");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);s("rjj0")("a68c7caa",a,!0,{sourceMap:!1})},jyKH:function(t,e,s){"use strict";var a=s("Dd8w"),r=s.n(a),n=s("89ev"),o=s("I6+4"),i=s("BaHX"),l=s("r3Mr"),c=s("Dxhv"),d=s("NYxO");e.a={components:{OwnersDomain:n.a,OwnersForm:o.a,BtnCmds:i.a,FormBar:l.a},mixins:[Object(c.a)("owners")],computed:r()({},Object(d.mapGetters)("owners",["isAddMode"])),methods:{onSave:function(){var t=this;this.setFormSaving(!0),this.$nextTick(this.$nuxt.$loading.start),this.save({data:this.$record,id:this.$record.id}).then(function(e){return t.$router.push("/operators/owners")}).catch(function(){t.setFormSaving(!1)}).then(function(){return t.$nextTick(t.$nuxt.$loading.start)})}}}},lUsV:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},njOx:function(t,e,s){"use strict";e.a={name:"CancelBtn",props:{color:{default:"grey darken-1"}}}},o9j9:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-flex",{attrs:{container:"","pa-0":""}},[e("form-bar",{attrs:{disabled:this.isDisabled,to:"/operators/owners",color:"blue lighten-1",caption:"Save Owner"},on:{"on-save":this.onSave}}),e("v-card",{staticClass:"mb-2"},[e("owners-form")],1),e("v-card",{staticClass:"mb-2"},[e("owners-domain")],1)],1)},staticRenderFns:[]};e.a=a},pr8t:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("owners-managements")},staticRenderFns:[]};e.a=a},r3Mr:function(t,e,s){"use strict";var a=s("KHKM"),r=s("zA40"),n=s("VU/8")(a.a,r.a,!1,null,null,null);e.a=n.exports},rVcQ:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:"","max-width":"390"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("v-toolbar",{attrs:{dense:"",color:"blue",dark:""}},[s("v-toolbar-title",{staticClass:"subheading"},[t._v("\n            "+t._s(t.$t("Change password"))+"\n        ")])],1),s("v-card",{staticClass:"pa-3"},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-form",{model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[s("v-flex",[s("v-text-field",{attrs:{label:t.$t("Old password"),box:"",required:"",rules:t.rules.password,type:"password"},model:{value:t.oldPassword,callback:function(e){t.oldPassword=e},expression:"oldPassword"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:t.$t("New password"),box:"",required:"",rules:t.rules.password,type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("v-flex",[s("v-text-field",{attrs:{label:t.$t("Repeat password"),box:"",required:"",rules:t.rules.password,type:"password"},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}})],1)],1)],1)],1),s("v-card-actions",[s("a",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),s("v-spacer"),s("v-btn",{staticClass:"elevation-1",nativeOn:{click:function(e){return t.onCancel(e)}}},[t._v(t._s(t.$t("Cancel")))]),s("v-btn",{staticClass:"elevation-1",attrs:{disabled:!t.canChange},nativeOn:{click:function(e){return t.onChangePassword(e)}}},[s("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("Change password")))])])],1)],1)],1)},staticRenderFns:[]};e.a=a},sSre:function(t,e,s){"use strict";var a=s("Dd8w"),r=s.n(a),n=s("dOit"),o=s("9q+M"),i=s("NYxO");e.a={name:"OwnersDomain",data:function(){var t=this;return{mounting:!0,rules:{domain:[function(e){return!!e||t.$t("required")},function(e){return!!t.mounting||(!t.allDomainsByDomain[e]||t.$t("Domain already assigned"))}]}}},components:{addBtn:o.a,CancelBtn:n.a},created:function(){this.$record.created=new Date(this.$record.created),this.$record.domains&&this.$record.domains.forEach&&this.$record.domains.forEach(function(t){t._name=t.name,t.phantom=!1})},mounted:function(){this.mounting=!1},computed:r()({},Object(i.mapState)("owners",["$record","record","languages","form"]),Object(i.mapGetters)("owners",["canAddDomain"]),Object(i.mapGetters)("domains",["allDomainsByDomain"])),methods:r()({},Object(i.mapMutations)("owners",["addDomain","removeDomain","setDeletedItem"]),{onRemoveDomain:function(t){confirm(this.$t("Do you confirm?"))&&(this.$record.domains[t].name&&""!==this.$record.domains[t].name?this.$record.domains[t].deleted=!0:this.removeDomain(t))}})}},zA40:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-layout",{staticClass:"mb-2",staticStyle:{"border-bottom":"1px solid silver"},attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"btn-back",attrs:{xs4:"","pt-1":""}},[s("v-tooltip",{attrs:{right:""}},[s("v-btn",{staticClass:"mx-0",attrs:{slot:"activator",fab:"",flat:"",small:"",to:t.to,"active-class":""},slot:"activator"},[s("v-icon",[t._v("reply")])],1),s("span",[t._v(t._s(t.$t("Back")))])],1)],1),s("v-spacer"),s("v-tooltip",{attrs:{left:""}},[s("v-btn",{staticClass:"elevation-0 mb-2",attrs:{slot:"activator",color:"green darken-3",dark:"",fab:"",small:"",disabled:t.isDisabled},on:{click:t.onSave},slot:"activator"},[s("v-icon",[t._v("save")])],1),s("span",[t._v(t._s(t.$t(t.caption)))])],1)],1)},staticRenderFns:[]};e.a=a},zZ07:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])}});